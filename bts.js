!function(){"use strict";function o(){}function a(){}function u(t,n){this.t={},this.i(t,n)}function e(t){this.key=t}function s(t){this.o=null,this.endpoint=t,this.h=[this.v,this.m,this.p]}function t(t,n){this.attributes={g:null,_:this.k(this.I()),sessionId:this.I(),D:[]};var i=this.T(t,"trackId",null);if(!/^[0-9A-Fa-f]{32}$/.test(i))throw new Error('Track identity option is required and must be hex value long 32 characters: {trackId: "447236e0d12298df77282a6870b50042"}');this.options={j:i,O:{L:this.T(t,"base.sendAllowed",!0)}},this.q(t,!0),this.sender=new s({O:this.T(t,"endpoint.base","/tr"),A:this.T(t,"endpoint.img","/tri")}),this.S(n||[]),this.B()}o.C=(o.M="__bts")+"_cid",o.N="session",o.P="timing",(o.J={event:"e",target:"ta"})[o.N]="s",o.J[o.P]="t",a.R=function(t,n,i){return n?null:{error:"Is required"+(i?" one parameter from name list":""),name:t,group:i}},a.U=function(t,n){return n&&"string"!=typeof n?{error:"Is not string",name:t}:null},a.V=function(t,n){return n&&"number"!=typeof n?{error:"Is not number",name:t}:null},a.$=function(t,n){return n&&"Invalid Date"===new Date(n).toString()?{error:"Is not timestamp",name:t}:null},a.F=function(t,n){var i=Object.keys(o.J).join("|"),e=new RegExp("^("+i+")$");return"string"!=typeof n||e.test(n)?null:{error:"Is not event type ("+i+")",name:t}},a.G=function(t,n){return n&&"string"==typeof n&&256<n.length?{error:"Max length: 256",name:t}:null},a.H=function(t,n){return n&&"Invalid Date"===new Date(n).toString()?{error:"Invalid date",name:t}:null},u.prototype={getData:function(){return this.t},K:function(t,n){for(var i,e,s={},r=[],o=0;o<t.length;o++)t[o].group?s[i=t[o].group]?s[i].W.push(t[o].name):s[i]={W:[t[o].name],error:t[o].error}:r.push(t[o]);for(e in s)s[e].W.length===n[e].length&&r.push(s[e]);return r},i:function(t,n){var s=[],r={};if(n.forEach(function(n){var i=!1,e=(n.group&&(r[n.group]?r[n.group].push(n.name):r[n.group]=[n.name]),t[n.name]);n.rules.forEach(function(t){t=t(n.name,e,n.group);t&&(i=!0,s=s.concat(t))}),i||(this.t[n.X]=e&&n.filter?n.filter(e):e)}.bind(this)),0<(s=this.K(s,r)).length)throw new Error(JSON.stringify(s))}},e.prototype={create:function(t,n){var i,e="";n&&((i=new Date).setFullYear(i.getFullYear()+n),e="; expires="+i.toGMTString()),document.cookie=this.key+"="+t+e+"; path=/; SameSite=Lax"},read:function(){for(var t=this.key+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var e=n[i];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null}},s.prototype={send:function(e){this.o?this.o.call(this,e):this.h.some(function(t,n){var i=t.call(this,e);if(n!==this.h.length-1||i)return i&&(this.o=t),i;throw new Error("Tracking cannot send data by any of the methods")}.bind(this))},Y:function(t,n){var i,e=t;for(i in n)e+=(e.split("?")[1]?"&":"?")+i+"="+window.encodeURIComponent(n[i]);return e},Z:function(t){return new Blob([JSON.stringify(t)],{type:"application/json"})},v:function(t){return this.tt(function(){return"sendBeacon"in window.navigator},function(){window.navigator.sendBeacon(this.endpoint.O,this.Z(t))}.bind(this))},m:function(t){return this.tt(function(){return"keepalive"in window.Request.prototype},function(){window.fetch(this.endpoint.O,{method:"POST",body:this.Z(t),keepalive:!0,headers:{"Content-Type":"application/json"}})}.bind(this))},p:function(t){return this.tt(function(){return!0},function(){(new Image).src=this.Y(this.endpoint.A,t)}.bind(this))},tt:function(t,n){if(!t())return!1;try{n()}catch(t){return console.error(t),!1}return!0}},(t.prototype={q:function(t,n){this.options.ping={nt:this.T(t,"ping.allowed",!!n||this.options.ping.nt),interval:this.T(t,"ping.interval",n?30:this.options.ping.interval)},this.options.it={connection:this.T(t,"timings.connection",!!n||this.options.it.connection),et:this.T(t,"timings.dnsLookup",!!n||this.options.it.et),st:this.T(t,"timings.ssl",!!n||this.options.it.st),rt:this.T(t,"timings.ttfb",!!n||this.options.it.rt),request:this.T(t,"timings.request",!!n||this.options.it.request),response:this.T(t,"timings.response",!!n||this.options.it.response),protocol:this.T(t,"timings.protocol",!!n||this.options.it.protocol)}},I:function(){if(void 0!==window.Uint8Array&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues)return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,function(t){return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)});var i=(new Date).getTime(),e=void 0!==window.performance&&window.performance.now&&1e3*window.performance.now()||0;return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random();return 0<i?(n=(i+n)%16|0,i=Math.floor(i/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),("x"===t?n:3&n|8).toString(16)})},T:function(t,n,i){var e,s=t,r=n.split("."),o=1;for(e of r){if(void 0===s[e])return i;if(s=s[e],o===r.length)return s;o++}return i},S:function(t){t.forEach(this.push.bind(this))},ot:function(t){return t.toString()},B:function(){this.attributes.g&&clearInterval(this.attributes.g),this.options.ping.nt&&!this.attributes.g&&(this.attributes.g=window.setInterval(function(){this.push({type:o.N,category:"ts.session",event:"ping"})}.bind(this),1e3*this.options.ping.interval));var t,n=window.performance.getEntriesByType("navigation")[0]||window.performance.timing,i={type:o.P,category:"ts.timing",label:"ms"};this.options.it.connection&&-1===this.attributes.D.indexOf("connection")&&(this.push(this.ut(i,{event:"connection",value:this.ot(n.connectEnd-n.connectStart)})),this.attributes.D.push("connection")),this.options.it.et&&-1===this.attributes.D.indexOf("dnsLookup")&&(this.push(this.ut(i,{event:"dnsLookup",value:this.ot(n.domainLookupEnd-n.domainLookupStart)})),this.attributes.D.push("dnsLookup")),this.options.it.st&&-1===this.attributes.D.indexOf("ssl")&&((t=0)<n.secureConnectionStart&&(t=n.connectEnd-n.secureConnectionStart),this.push(this.ut(i,{event:"ssl",value:this.ot(t)})),this.attributes.D.push("ssl")),this.options.it.rt&&-1===this.attributes.D.indexOf("ttfb")&&(this.push(this.ut(i,{event:"ttfb",value:this.ot(n.responseStart-n.requestStart)})),this.attributes.D.push("ttfb")),this.options.it.request&&-1===this.attributes.D.indexOf("request")&&(this.push(this.ut(i,{event:"request",value:this.ot(n.responseStart-n.requestStart)})),this.attributes.D.push("request")),this.options.it.response&&-1===this.attributes.D.indexOf("response")&&(this.push(this.ut(i,{event:"response",value:this.ot(n.responseEnd-n.responseStart)})),this.attributes.D.push("response")),this.options.it.protocol&&-1===this.attributes.D.indexOf("protocol")&&(t="",window.performance&&window.performance.timing.nextHopProtocol?t=performance.timing.nextHopProtocol:window.performance&&window.performance.getEntries?t=performance.getEntries()[0].nextHopProtocol:window.chrome&&window.chrome.loadTimes&&(t=window.chrome.loadTimes().connectionInfo),this.push(this.ut(i,{event:"protocol",value:t,label:""})),this.attributes.D.push("protocol"))},k:function(t){var n=new e(o.C),i=n.read();return i||n.create(t,2),i||t},ht:function(){return{tid:this.options.j,cid:this.attributes._,sid:this.attributes.sessionId}},ct:function(){return{je:1,l:this.lt(),sr:window.screen.width+"x"+window.screen.height,cr:window.screen.availWidth+"x"+window.screen.availHeight,u:window.location.href,ts:(new Date).toISOString(),tz:(new Date).getTimezoneOffset()/60*-1}},lt:function(){var t=window.navigator.languages&&window.navigator.languages[0]||window.navigator.language||window.navigator.userLanguage;return"string"==typeof t?t:""},ft:function(t,n,i){return t?Object.keys(t).map(function(t){return{name:t,X:t.replace(n,i),rules:[a.U,a.G]}}):[]},dt:function(t,i){var e;return t?(e={},t.forEach(function(t,n){e[i+(n+1)]=t}),e):null},ut:function(){for(var t={},n=0;n<arguments.length;n++)for(var i=arguments[n],e=i?Object.keys(i):[],s=0;s<e.length;s++)void 0!==i[e[s]]&&(t[e[s]]=i[e[s]]);return t},wt:function(t){var n="userIdentity",i="eventAttribute",e=this.dt(t.userIdentities,n),s=this.dt(t.eventAttributes,i),r="additionalEventData";return new u(this.ut(t,s,e),[{name:"url",X:"u",rules:[a.U]},{name:"type",X:"et",rules:[a.R,a.F],filter:function(t){return o.J[t]}},{name:"category",group:r,X:"ec",rules:[a.R,a.U,a.G]},{name:"event",group:r,X:"e",rules:[a.R,a.U,a.G]},{name:"label",group:r,X:"el",rules:[a.R,a.U,a.G]},{name:"value",group:r,X:"ev",rules:[a.R,a.U,a.G]},{name:"timestamp",X:"ts",rules:[a.V,a.$],filter:function(t){return new Date(t).toISOString()}}].concat(this.ft(e,n,"u"),this.ft(s,i,"a"))).getData()},vt:function(t){this.options.O.L?this.sender.send(t):console.log(t)}}).push=function(t){t=this.ut(this.ht(),this.ct(),this.wt(t));this.vt(t)},t.prototype.setOptions=function(t){this.q(t,!1),this.B()},t.prototype.getAttribute=function(t){switch(t){case"cookieId":t=this.attributes._;break;case"sessionId":t=this.attributes.sessionId;break;default:t=null}return t},window[o.M]=t}();
